<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binomial Distribution Calculator</title>
</head>
<body>

<script>
    function calculateProbability() {
        const math = require('mathjs');

        const n = parseInt(prompt("Ingrese la cantidad de veces que se repite el evento: "));
        const k = parseInt(prompt("Insertar el valor de éxitos: "));
        const p = parseFloat(prompt("Insertar la probabilidad de éxito: "));
        const type = prompt("insertar el tipo de distribucion binomial siguiendo este formato P(x ... a) donde ... es la condicion:");

        let answer = 0;

        if (type === "P(x = a)") {
            answer = math.comb(n, k) * Math.pow(p, k) * Math.pow((1 - p), (n - k));
            alert(`P(x = ${k}) = ${answer}`);
        } else if (type === "P(x > a)") {
            for (let x = k + 1; x <= n; x++) {
                answer += math.comb(n, x) * Math.pow(p, x) * Math.pow((1 - p), (n - x));
            }
            alert(`P(x > ${k}) = ${answer}`);
        } else if (type === "P(x >= a)") {
            for (let x = k; x <= n; x++) {
                answer += math.comb(n, x) * Math.pow(p, x) * Math.pow((1 - p), (n - x));
            }
            alert(`P(x >= ${k}) = ${answer}`);
        } else if (type === "P(x < a)") {
            for (let x = 0; x < k; x++) {
                answer += math.comb(n, x) * Math.pow(p, x) * Math.pow((1 - p), (n - x));
            }
            alert(`P(x < ${k}) = ${answer}`);
        } else if (type === "P(x <= a)") {
            for (let x = 0; x <= k; x++) {
                answer += math.comb(n, x) * Math.pow(p, x) * Math.pow((1 - p), (n - x));
            }
            alert(`P(x <= ${k}) = ${answer}`);
        } else if (type === "P(a < x < b)") {
            const b = parseInt(prompt("insertar limite superior de la distribucion:"));
            for (let x = k + 1; x < b; x++) {
                answer += math.comb(n, x) * Math.pow(p, x) * Math.pow((1 - p), (n - x));
            }
            alert(`P(${k} < x < ${b}) = ${answer}`);
        } else if (type === "P(a <= x <= b)") {
            const b = parseInt(prompt("insertar limite superior de la distribucion:"));
            for (let x = k; x <= b; x++) {
                answer += math.comb(n, x) * Math.pow(p, x) * Math.pow((1 - p), (n - x));
            }
            alert(`P(${k} <= x <= ${b}) = ${answer}`);
        } else {
            alert("Tipo de distribucion no reconocido.");
        }
    }

    calculateProbability();
</script>

</body>
</html>
